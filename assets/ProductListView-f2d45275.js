import{m as x,_ as C,o,c as s,b as e,n as u,s as d,F as c,g as h,t as f,i as k,a as $,j as P,r as p,e as v,k as j,v as A,l as D,h as S}from"./index-a352aac4.js";import{p as g}from"./productsStore-678d37ff.js";import{P as I}from"./PageHeader-ffb7cc6f.js";import{P as L}from"./ProductItem-ecc56da1.js";import{a as V}from"./common-10f7587a.js";import"./cartStore-794f6400.js";import"./request-a94ccf31.js";const q={props:{pages:{type:Object,default:()=>{}},getList:{type:Function,default:()=>{}},category:{type:String,default:""}},emits:["change-page"],computed:{...x(g,["currentCategory"])}},B={key:0,class:"flex items-center justify-center"},M={class:"py-8"},F={class:"flex items-center justify-center space-x-2"},H=e("span",{class:"material-symbols-outlined"}," chevron_left ",-1),N=[H],O={key:0,class:"flex items-center justify-center w-12 h-12 rounded bg-netural-netural-200 text-netural-netural-300 group-[.active]:bg-secondary-secondary-200 group-[.active]:text-netural-netural-100 font-semibold ch-heading-4"},K=["onClick"],Q=e("span",{class:"material-symbols-outlined"}," chevron_right ",-1),z=[Q];function E(t,a,n,w,m,_){return n.pages.total_pages>1?(o(),s("div",B,[e("nav",M,[e("ul",F,[e("li",{class:u(["group",{disabled:n.pages.current_page<=1}])},[e("a",{class:"flex items-center justify-center w-12 h-12 rounded bg-netural-netural-200 text-netural-netural-400 group-[.disabled]:opacity-30 group-[.disabled]:cursor-not-allowed font-semibold ch-heading-4",href:"#",onClick:a[0]||(a[0]=d(l=>t.$emit("change-page",n.pages.current_page-1),["prevent"]))},N)],2),(o(!0),s(c,null,h(n.pages.total_pages,(l,i)=>(o(),s("li",{class:u(["group",{active:n.pages.current_page===l}]),key:i},[n.pages.current_page===l?(o(),s("span",O,f(i+1),1)):(o(),s("a",{key:1,class:"flex items-center justify-center w-12 h-12 rounded bg-netural-netural-200 text-netural-netural-400 font-semibold ch-heading-4",href:"#",onClick:d(y=>t.$emit("change-page",l),["prevent"])},f(i+1),9,K))],2))),128)),e("li",{class:u(["group",{disabled:n.pages.current_page>=n.pages.total_pages}])},[e("a",{class:"flex items-center justify-center w-12 h-12 rounded bg-netural-netural-200 text-netural-netural-400 group-[.disabled]:opacity-30 group-[.disabled]:cursor-not-allowed font-semibold ch-heading-4",href:"#",onClick:a[1]||(a[1]=d(l=>t.$emit("change-page",n.pages.current_page+1),["prevent"]))},z)],2)])])])):k("",!0)}const T=C(q,[["render",E]]),U="/hexschool-vue-ecommerce/assets/page_products-0f80ba4c.jpg",W={data(){return{pageImage:U}},components:{PaginationCustomComponent:T,PageHeader:I,ProductItem:L},methods:{...$(g,["getProductsAll","searchCategory","changeCategory"]),changePage(t){this.pagination.current_page=t,this.paginationData.current_page=t},searchQueryContent(){if(this.categoryData.includes(this.$route.query.category))this.changeCategory(this.$route.query.category);else{if(this.$route.query.category==="全部地區")return;this.searchArea=this.$route.query.category||"",this.searchCategory(this.searchArea)}}},computed:{...x(g,["categoryData","pagination","modifyData","currentCategory"]),...P(g,["searchArea","paginationData"])},async created(){V().isLoading=!0,await this.getProductsAll(),this.searchQueryContent()}},G={class:"container"},J={class:"flex flex-col lg:flex-row justify-between lg:space-x-8"},R={class:"flex flex-col self-start w-full lg:w-[260px] mb-6 lg:mb-0 p-4 lg:p-6 border border-netural-netural-300 rounded-md"},X={class:"flex w-full pl-6 lg:pl-4 [&:not(:last-child)]:mb-4 lg:[&:not(:last-child)]:mb-6 bg-netural-netural-200"},Y=e("div",{class:"flex-shrink-0 w-6 h-6 bg-netural-netural-300 icon-search"},null,-1),Z=[Y],ee={class:"flex flex-col"},te=e("h3",{class:"ch-heading-4 font-bold pb-4"},"地區篩選",-1),ae={class:"overflow-x-auto lg:overflow-visible flex flex-row items-center lg:flex-col w-full"},re=e("div",{class:"flex items-center h-[48px] lg:h-auto after:content-['chevron\\_right'] after:hidden lg:after:block group-[.active]:after:block after:ml-auto after:ch-heading-3 after:font-['Material_Symbols_Outlined'] p-3 lg:border-b lg:border-gray-200 cursor-pointer transition-all group-[.active]:bg-netural-netural-400 group-[.active]:text-netural-netural-100"},[e("p",{class:"flex-1 pr-2 whitespace-nowrap"},"全部地區")],-1),oe=[re],se=["onClick"],ne={class:"flex items-center h-[48px] lg:h-auto after:content-['chevron\\_right'] after:hidden lg:after:block group-[.active]:after:block after:ml-auto after:ch-heading-3 after:font-['Material_Symbols_Outlined'] p-3 lg:border-b lg:border-gray-200 cursor-pointer transition-all group-[.active]:bg-netural-netural-400 group-[.active]:text-netural-netural-100"},le={class:"flex-1 pr-2 whitespace-nowrap"},ie={class:"lg:flex-auto w-full lg:w-[75%]"},ce={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 grid-flow-row gap-6"},ue={key:1,class:"flex flex-col justify-center space-y-4 max-w-[800px] mx-auto"},ge=e("p",{class:"ch-heading-3 text-center"},"找不到符合的關鍵字，請重新搜尋",-1),de=[ge];function pe(t,a,n,w,m,_){const l=p("PageHeader"),i=p("ProductItem"),y=p("PaginationCustomComponent");return o(),s(c,null,[v(l,{"image-url":m.pageImage},null,8,["image-url"]),e("div",G,[e("div",J,[e("div",R,[e("div",X,[j(e("input",{class:"w-full py-4 lg:py-2 bg-netural-netural-200 font-bold ch-heading-4 text-netural-netural-300",type:"text",placeholder:"搜尋地區 / 景點",name:"",id:"","onUpdate:modelValue":a[0]||(a[0]=r=>t.searchArea=r),onKeyup:a[1]||(a[1]=D(r=>t.searchCategory(t.searchArea),["enter"]))},null,544),[[A,t.searchArea,void 0,{trim:!0}]]),e("button",{type:"button",class:"flex items-center justify-center px-4",onClick:a[2]||(a[2]=r=>t.searchCategory(t.searchArea))},Z)]),e("div",ee,[te,e("ul",ae,[e("li",{onClick:a[3]||(a[3]=r=>t.changeCategory("全部地區")),class:u(["group lg:w-full",{active:t.currentCategory==="全部地區"}])},oe,2),(o(!0),s(c,null,h(t.categoryData,r=>(o(),s("li",{key:r,class:u(["group lg:w-full",{active:t.currentCategory===r}]),onClick:b=>t.changeCategory(r)},[e("div",ne,[e("p",le,f(r),1)])],10,se))),128))])])]),e("div",ie,[t.paginationData.data.length>0?(o(),s(c,{key:0},[e("div",ce,[(o(!0),s(c,null,h(t.paginationData.data,(r,b)=>(o(),S(i,{key:r.id,"product-data":r,"item-index":b,"image-class":"!h-[200px]","text-content-class":"!ml-0 !mt-0"},null,8,["product-data","item-index"]))),128))]),v(y,{pages:t.pagination,onChangePage:_.changePage},null,8,["pages","onChangePage"])],64)):(o(),s("div",ue,de))])])])],64)}const xe=C(W,[["render",pe]]);export{xe as default};
