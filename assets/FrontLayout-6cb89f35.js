import{d as V,m as d,a as w,_ as f,r as i,o as a,c as r,b as t,e as c,w as _,f as k,F as x,g as L,h as F,n as m,t as y,i as S,j as A,R as E}from"./index-8dc51b0a.js";import{u as b,a as N}from"./common-0df46e94.js";import{c as T}from"./cartStore-b76d7477.js";import"./toast-7bff71d1.js";const g=V("navListMenu",{state:()=>({webTitle:"JAPAN TRIP",navRouteData:[]}),actions:{pushRouteData(e){this.navRouteData=e}},getters:{navList({navRouteData:e}){const s=[];for(let o=0;o<e.length;o++)e[o].path==="/"||e[o].path==="/product/:id"||e[o].path==="/article/:id"||e[o].path==="/cart"||e[o].path==="/order"||e[o].path==="/checkout/:orderId"||e[o].name==="404"||s.push({path:e[o].path,title:e[o].meta.title,enTitle:e[o].meta.enTitle});return s}}});const z={computed:{...d(g,["navList"]),...d(b,["toggle","menuState"]),...d(T,["cart"])},methods:{...w(b,["menuToggle"]),...w(T,["getCartList"])},mounted(){this.getCartList()}},H={class:"sticky top-0 inset-x-0 z-50 lg:h-auto bg-netural-netural-100 shadow-md"},B={class:"container"},R={class:"flex items-center justify-between h-[72px] py-4 lg:py-5"},I={class:"flex items-center md:space-x-6 lg:space-x-24"},J={class:"hidden md:block"},O={class:"flex items-center space-x-10"},U=["href"],W={class:"flex space-x-2"},q=t("div",{class:"flex-shrink-0 w-5 h-5 bg-secondary-secondary-200 icon-cart"},null,-1),G=t("span",{class:"w-full h-0.5 rounded-sm bg-secondary-secondary-200 duration-[400ms] ease-in-out group-[.active]:rotate-45 group-[.active]:origin-[0%_0%]"},null,-1),K=t("span",{class:"w-full h-0.5 rounded-sm bg-secondary-secondary-200 duration-[200ms] ease-in-out group-[.active]:scale-y-0"},null,-1),Q=t("span",{class:"w-full h-0.5 rounded-sm bg-secondary-secondary-200 duration-[400ms] ease-in-out group-[.active]:-rotate-45 group-[.active]:origin-[0%_100%]"},null,-1),X=[G,K,Q];function Y(e,s,o,h,p,u){const l=i("router-link");return a(),r("header",H,[t("div",B,[t("div",R,[c(l,{to:"/",class:"whitespace-nowrap en-body"},{default:_(()=>[k("JAPAN TRIP")]),_:1}),t("div",I,[t("nav",J,[t("ul",O,[(a(!0),r(x,null,L(e.navList,n=>(a(),F(l,{custom:"",key:n.path,to:n.path},{default:_(({href:v,isActive:$})=>[t("li",{class:m(["group",{"nav-active":$}])},[t("a",{class:"block p-3 font-bold ch-body text-netural-netural-400 hover:text-secondary-secondary-200 group-[.nav-active]:text-secondary-secondary-200",href:v},y(n.title),9,U)],2)]),_:2},1032,["to"]))),128))])]),t("div",W,[c(l,{to:"/cart",class:"relative flex items-center justify-center w-12 h-12 cursor-pointer"},{default:_(()=>[q,this.cart.carts!==void 0&&this.cart.carts.length>0?(a(),r("p",{key:0,class:m([{"animate__animated animate__pulse animate__infinite":this.cart.carts.length>0},"absolute right-0 top-2 min-w-[22px] h-[22px] py-0.5 px-1 scale-90 rounded-full bg-secondary-secondary-100 text-primary-primary-100 en-caption-02 text-center"])},y(this.cart.carts.length),3)):S("",!0)]),_:1}),t("div",{class:m(["flex flex-col justify-between w-[48px] h-[48px] py-4 px-[14px] md:hidden group",{active:e.toggle}]),onClick:s[0]||(s[0]=(...n)=>e.menuToggle&&e.menuToggle(...n))},X,2)])])])])])}const Z=f(z,[["render",Y]]),D={computed:{...d(g,["navList"])}},ee={class:"bg-primary-primary-100"},te={class:"container"},oe={class:"flex flex-col md:flex-row md:items-center md:justify-between py-20 md:py-[54px]"},se=t("p",{class:"pb-[26px] md:pb-0 whitespace-nowrap en-body md:en-title"}," JAPAN TRIP ",-1),ne={class:""},ae={class:"flex items-center md:space-x-6 lg:space-x-[86px]"},re=t("div",{class:"bg-netural-netural-500"},[t("div",{class:"container"},[t("p",{class:"py-3 md:py-6 md:px-3 ch-caption-2 md:ch-body text-center text-netural-netural-100"}," 本網站僅供個人作品使用，不提供商業用途 ")])],-1);function le(e,s,o,h,p,u){const l=i("router-link");return a(),r("footer",ee,[t("div",te,[t("div",oe,[se,t("nav",ne,[t("ul",ae,[(a(!0),r(x,null,L(e.navList,n=>(a(),r("li",{key:n.path},[c(l,{class:"block py-[12px] px-1 md:p-3 font-bold ch-body text-netural-netural-400 hover:text-secondary-secondary-200",to:n.path},{default:_(()=>[k(y(n.title),1)]),_:2},1032,["to"])]))),128))])])])]),re])}const ce=f(D,[["render",le]]),ie={computed:{...d(g,["navList"]),...A(b,["toggle"])},mounted(){this.$router.afterEach(()=>{this.toggle=!1})}},de={class:"flex flex-col h-full justify-center items-center py-4"},ue={class:"overflow-y-auto flex flex-col items-center w-full space-y-2 px-4 sm:px-[88px]"};function pe(e,s,o,h,p,u){const l=i("router-link");return a(),r("div",{class:m(["fixed inset-x-0 bottom-0 z-30 md:hidden flex flex-col h-[calc(100%-72px)] bg-netural-netural-400 transition-all",e.toggle?"translate-x-0":"-translate-x-full"])},[t("nav",de,[t("ul",ue,[(a(!0),r(x,null,L(e.navList,n=>(a(),r("li",{class:"w-full border-b border-netural-netural-300 text-center",key:n.path},[c(l,{class:"block py-8 font-normal ch-caption-1 text-netural-netural-300",to:n.path},{default:_(()=>[k(y(n.title),1)]),_:2},1032,["to"])]))),128))])])],2)}const _e=f(ie,[["render",pe]]),fe={props:{active:{type:Boolean,default:!1}},computed:{...d(N,["isProcessing"])}},he={key:0,class:"fixed z-30 inset-0 flex items-center justify-center"},me=t("div",{class:"relative z-30 w-12 h-12 rounded-full animate-animation-rotate before:content-[''] before:absolute before:inset-0 before:rounded-full before:border-4 before:border-netural-netural-400 before:animate-animation-prixClipFix"},null,-1),ge=t("div",{class:"absolute w-full h-full bg-netural-netural-100 opacity-80"},null,-1),ye=[me,ge];function be(e,s,o,h,p,u){return e.isProcessing?(a(),r("div",he,ye)):S("",!0)}const xe=f(fe,[["render",be]]),ve={data(){return{isShow:!1}},methods:{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){const e=document.documentElement,s=e.scrollHeight-e.clientHeight;e.scrollTop/s>.1?this.isShow=!0:this.isShow=!1}},mounted(){document.addEventListener("scroll",this.handleScroll)},unmounted(){document.removeEventListener("scroll",this.handleScroll)}},$e=t("div",{class:"ch-heading-1 material-symbols-outlined"},"expand_less",-1),we=[$e];function ke(e,s,o,h,p,u){return a(),r("div",{class:m(["fixed z-20 right-3 bottom-10 flex justify-center items-center w-12 h-12 rounded-full cursor-pointer transition-all opacity-0 invisible bg-secondary-secondary-100 text-netural-netural-100 shadow-lg",{"!opacity-100 !visible":p.isShow}]),title:"返回最上層",onClick:s[0]||(s[0]=(...l)=>u.scrollToTop&&u.scrollToTop(...l))},we,2)}const Le=f(ve,[["render",ke]]);const Te={data(){return{}},methods:{...w(g,["pushRouteData"])},computed:{...d(b,["toggle"]),...d(N,["isLoading","isProcessing"]),...d(g,["webTitle"]),modifyRouteData(){return this.$router.getRoutes().filter(e=>Object.keys(e.meta).length>0)}},watch:{toggle(){this.toggle?document.body.classList.add("overflow-hidden","md:overflow-auto"):document.body.classList.remove("overflow-hidden","md:overflow-auto")}},components:{RouterView:E,HeaderNav:Z,FooterNav:ce,MobileMenu:_e,ProcessLoader:xe,ScrollTop:Le},mounted(){this.$router.afterEach(e=>{this.$nextTick(()=>{document.title=`${e.meta.title} - ${this.webTitle}`})}),this.pushRouteData(this.modifyRouteData)}},Se={class:"layout-content"},Ne=t("div",{class:"relative w-16 h-16 bg-netural-netural-100 rounded-full rotate-45 animate-animation-compass before:content-[''] before:absolute before:left-1/2 before:top-1/2 before:w-[15px] before:h-[30px] before:skew-x-[5deg] before:skew-y-[60deg] before:-translate-x-1/2 before:-translate-y-1/2 before:bg-primary-primary-200 after:content-[''] after:absolute after:left-1/2 after:top-1/2 after:w-[6px] after:h-[6px] after:-translate-x-1/2 after:-translate-y-1/2 after:rounded-full after:bg-netural-netural-100"},null,-1);function Pe(e,s,o,h,p,u){const l=i("MobileMenu"),n=i("HeaderNav"),v=i("ProcessLoader"),$=i("RouterView"),P=i("ScrollTop"),j=i("FooterNav"),C=i("VueLoading");return a(),r(x,null,[c(l),c(n),t("div",Se,[c(v,{active:e.isProcessing},null,8,["active"]),c($),c(P)]),c(j),c(C,{active:e.isLoading,"onUpdate:active":s[0]||(s[0]=M=>e.isLoading=M)},{default:_(()=>[Ne]),_:1},8,["active"])],64)}const Fe=f(Te,[["render",Pe]]);export{Fe as default};
