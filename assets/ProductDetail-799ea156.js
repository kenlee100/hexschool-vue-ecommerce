import{a as w}from"./common-10f7587a.js";import{P as C}from"./ProductItem-ecc56da1.js";import{_ as k,a as P,m as S,r as m,o as n,c as l,h as u,w as i,i as y,b as e,t as c,F as d,g as p,e as f,T,f as g,k as U,u as V,n as B}from"./index-a352aac4.js";import{g as I,p as v}from"./productsStore-678d37ff.js";import{A as L,N,P as j,S as O,a as H}from"./effect-fade-a22a9b85.js";import"./cartStore-794f6400.js";import"./request-a94ccf31.js";const M={data(){return{modules:[L,N,j],controlledSwiper:null,productContent:{},qty:1,tabList:["行程內容","注意事項"],currentTab:"行程內容"}},components:{ProductItem:C,Swiper:O,SwiperSlide:H},methods:{...P(v,["getProducts","addCart"]),async changeProductContent(s){const{product:a}=await I(s);return a},toggle(s){s.active=!s.active},startTransition(s){s.style.height=s.scrollHeight+"px"},endTransition(s){s.style.height=""}},watch:{productId:async function(s){s&&(this.productContent=await this.changeProductContent(s))}},computed:{...S(v,["products"]),filterOtherItem(){return this.products.filter(s=>s.id!==this.$route.params.id)},productId(){return this.$route.params.id}},async created(){w().isLoading=!0,this.productContent=await this.changeProductContent(this.$route.params.id),await this.getProducts()}},q={key:0},D=["src","alt"],A=["src","alt"],F={key:1},z=["src","alt"],E={key:2},G=e("img",{class:"flex-shrink-0 w-full h-[400px] object-cover",src:"https://placehold.co/640x480?text=No+Photo",alt:"預設圖"},null,-1),J=[G],K={class:"container"},Q={class:"flex flex-col-reverse lg:flex-row justify-between lg:space-x-8 pt-10 pb-16"},R={class:"lg:w-[66.666%] space-y-6 pb-6 border-b border-netural-netural-500"},W={class:"font-bold ch-heading-1"},X={class:"flex pb-4 [&:not(:last-child)]:mb-4 !mt-3 border-b border-netural-netural-300"},Y=e("div",{class:"flex-shrink-0 w-4 h-4 mt-0.5 lg:mt-1 [&:not(:last-child)]:mr-2 bg-netural-netural-300 icon-pin"},null,-1),Z={class:"lg:font-bold ch-caption-2 lg:ch-body text-netural-netural-300"},$={class:"flex flex-col"},ee=["innerHTML"],te={class:"flex flex-col"},se={class:"flex border-b border-netural-netural-300"},oe=["onClick"],ne={class:"flex items-center justify-center py-2 px-4 text-netural-netural-300 font-semibold ch-heading-4 group-[.active]:text-netural-netural-100 group-[.active]:bg-secondary-secondary-100 cursor-pointer"},le={class:"flex flex-col"},re={key:0,class:"pt-5 pb-4 editor-content"},ie=["innerHTML"],ce={key:1,class:"pt-5 pb-4"},ae=e("ol",{class:"space-y-2 pt-3 pl-5 en-caption-02 leading-7.5 font-bold list-decimal"},[e("li",null," 票券有效期限：請確認您所購買的票券有效期限，並於有效期限內使用，逾期無法使用。 "),e("li",null," 入場方式：每個景點的入場方式可能不同，請務必確認入場方式，並依照票券使用方式進入。 "),e("li",null," 使用時段：有些票券有使用時段限制，請確認使用時段，並在指定時段內使用。 "),e("li",null," 套票使用方式：如購買套票，請依照票券上所列明的使用方式及順序使用，並注意各景點的開放時間，以免因時間不足而無法使用。 "),e("li",null," 票券轉讓禁止：票券一經售出，不得轉讓他人使用。如經發現違規使用，將依照法律規定處理。 "),e("li",null," 退換票：票券一經售出，恕不退換，請務必確認購買內容再進行購買。 "),e("li",null," 注意安全：使用票券時，請務必注意人身安全及財物安全，避免遺失或損毀。 "),e("li",null," 其他注意事項：請在使用票券前仔細閱讀票券上所列之注意事項，以確保使用順利。 "),e("li",null,"希望以上注意事項說明能為您提供幫助，祝您旅途愉快！")],-1),de=[ae],ue={class:"flex flex-col lg:w-[33.333%] mb-8 lg:mb-0"},pe={class:"sticky top-[72px] inset-x-0 p-6 space-y-6 bg-netural-netural-200"},_e={class:"space-y-2"},he={class:"en-title"},me={class:"h6"},fe={class:"en-caption-01 line-through"},ge={class:"space-y-4"},be={class:"form-select"},ye=e("option",{selected:"",disabled:""},"商品數量",-1),ve=["value"],xe={class:"w-full"},we={class:"flex flex-col space-y-6"},Ce=e("h2",{class:"ch-heading-2 font-bold text-netural-netural-400"}," 其他行程推薦 ",-1);function ke(s,a,Pe,Se,t,b){const _=m("SwiperSlide"),h=m("Swiper"),x=m("ProductItem");return n(),l(d,null,[t.productContent.hasOwnProperty("imagesUrl")?(n(),l("div",q,[t.productContent.imagesUrl&&t.productContent.imagesUrl.length>=3?(n(),u(h,{key:0,pagination:{clickable:!0},loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},modules:t.modules,breakpoints:{320:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:3,spaceBetween:24}},class:"flex product-slider"},{default:i(()=>[(n(!0),l(d,null,p(t.productContent.imagesUrl,(o,r)=>(n(),u(_,{key:o.id},{default:i(()=>[e("img",{class:"flex-shrink-0 w-full h-[400px] object-cover",src:o.imageUrl,alt:`${t.productContent.title}${r+1}`},null,8,D)]),_:2},1024))),128))]),_:1},8,["modules"])):t.productContent.imagesUrl.length<3||t.productContent.imageUrl?(n(),u(h,{key:1,slidesPerView:1,spaceBetween:0,pagination:{clickable:!0},loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},modules:t.modules,class:"flex common-slider"},{default:i(()=>[(n(!0),l(d,null,p(t.productContent.imagesUrl,(o,r)=>(n(),u(_,{key:o.id},{default:i(()=>[e("img",{class:"flex-shrink-0 w-full h-[400px] object-cover",src:o.imageUrl,alt:`${t.productContent.title}${r+1}`},null,8,A)]),_:2},1024))),128))]),_:1},8,["modules"])):y("",!0)])):t.productContent.hasOwnProperty("imageUrl")?(n(),l("div",F,[e("img",{class:"flex-shrink-0 w-full h-[400px] object-cover",src:t.productContent.imageUrl,alt:t.productContent.title},null,8,z)])):(n(),l("div",E,J)),e("div",K,[e("div",Q,[e("div",R,[e("h1",W,c(t.productContent.title),1),e("div",X,[Y,e("div",Z,c(t.productContent.category),1)]),e("div",$,[e("div",{class:"editor-content",innerHTML:t.productContent.description},null,8,ee)]),e("div",te,[e("ul",se,[(n(!0),l(d,null,p(t.tabList,o=>(n(),l("li",{class:B(["group",{active:t.currentTab===o}]),key:o,onClick:r=>t.currentTab=o},[e("div",ne,c(o),1)],10,oe))),128))]),e("div",le,[f(T,{name:"fade",mode:"out-in"},{default:i(()=>[t.currentTab==="行程內容"?(n(),l("div",re,[e("div",{innerHTML:t.productContent.content},null,8,ie)])):t.currentTab==="注意事項"?(n(),l("div",ce,de)):y("",!0)]),_:1})])])]),e("div",ue,[e("div",pe,[e("div",_e,[e("div",null,[e("span",he,c(s.$filters.currency(t.productContent.price)),1),g(" 元 ")]),e("div",me,[g(" 原價 "),e("span",fe,c(s.$filters.currency(t.productContent.origin_price)),1),g(" 元 ")])]),e("div",ge,[e("div",be,[U(e("select",{name:"",id:"","onUpdate:modelValue":a[0]||(a[0]=o=>t.qty=o)},[ye,(n(),l(d,null,p(10,(o,r)=>e("option",{key:r,value:r+1},c(r+1)+" "+c(t.productContent.unit),9,ve)),64))],512),[[V,t.qty,void 0,{number:!0}]])])]),e("div",xe,[e("button",{type:"button",onClick:a[1]||(a[1]=o=>s.addCart(t.productContent,t.qty)),class:"btn-base w-full text-netural-netural-100 bg-secondary-secondary-200"}," 加入購物車 ")])])])]),e("div",we,[Ce,e("div",null,[f(h,{pagination:{clickable:!0},modules:t.modules,breakpoints:{320:{slidesPerView:1,width:260,spaceBetween:24},640:{slidesPerView:2,width:null,spaceBetween:24},768:{slidesPerView:3,spaceBetween:24},1296:{slidesPerView:4,spaceBetween:24}},class:"flex common-slider"},{default:i(()=>[(n(!0),l(d,null,p(b.filterOtherItem,(o,r)=>(n(),u(_,{key:o.id},{default:i(()=>[f(x,{"product-data":o,"item-index":r,"image-class":"!h-[200px]","text-content-class":"!ml-0 !mt-0",onChangeContent:b.changeProductContent},null,8,["product-data","item-index","onChangeContent"])]),_:2},1024))),128))]),_:1},8,["modules"])])])])],64)}const je=k(M,[["render",ke]]);export{je as default};
