import{d as C,m as c,a as w,_,r as i,o as n,c as a,b as t,e as l,w as p,f as L,F as b,g as k,h as V,n as m,t as v,i as S,j as D,R as F}from"./index-ad9fff6e.js";import{u as y,a as N}from"./common-d8506827.js";import{c as T}from"./cartStore-c8755473.js";import"./toast-befe74ea.js";const g=C("navListMenu",{state:()=>({webTitle:"JAPAN TRIP",navRouteData:[]}),actions:{pushRouteData(e){this.navRouteData=e}},getters:{navList({navRouteData:e}){return e.filter(o=>o.meta.mainMenu).map(o=>({path:o.path,title:o.meta.title,enTitle:o.meta.enTitle}))}}});const A={computed:{...c(g,["navList"]),...c(y,["toggle","menuState"]),...c(T,["cart"])},methods:{...w(y,["menuToggle"]),...w(T,["getCartList"])},mounted(){this.getCartList()}},E={class:"sticky top-0 inset-x-0 z-50 lg:h-auto bg-netural-netural-100 shadow-md"},z={class:"container"},H={class:"flex items-center justify-between h-[72px] py-4 lg:py-5"},B={class:"flex items-center md:space-x-6 lg:space-x-24"},J={class:"hidden md:block"},I={class:"flex items-center space-x-10"},O=["href"],U={class:"flex space-x-2"},W=t("div",{class:"flex-shrink-0 w-5 h-5 bg-secondary-secondary-200 icon-cart"},null,-1),q=t("span",{class:"w-full h-0.5 rounded-sm bg-secondary-secondary-200 duration-[400ms] ease-in-out group-[.active]:rotate-45 group-[.active]:origin-[0%_0%]"},null,-1),G=t("span",{class:"w-full h-0.5 rounded-sm bg-secondary-secondary-200 duration-[200ms] ease-in-out group-[.active]:scale-y-0"},null,-1),K=t("span",{class:"w-full h-0.5 rounded-sm bg-secondary-secondary-200 duration-[400ms] ease-in-out group-[.active]:-rotate-45 group-[.active]:origin-[0%_100%]"},null,-1),Q=[q,G,K];function X(e,o,f,h,u,d){const r=i("router-link");return n(),a("header",E,[t("div",z,[t("div",H,[l(r,{to:"/",class:"whitespace-nowrap en-body"},{default:p(()=>[L("JAPAN TRIP")]),_:1}),t("div",B,[t("nav",J,[t("ul",I,[(n(!0),a(b,null,k(e.navList,s=>(n(),V(r,{custom:"",key:s.path,to:s.path},{default:p(({href:x,isActive:$})=>[t("li",{class:m(["group",{"nav-active":$}])},[t("a",{class:"block p-3 font-bold ch-body text-netural-netural-400 hover:text-secondary-secondary-200 group-[.nav-active]:text-secondary-secondary-200",href:x},v(s.title),9,O)],2)]),_:2},1032,["to"]))),128))])]),t("div",U,[l(r,{to:"/cart",class:"relative flex items-center justify-center w-12 h-12 cursor-pointer"},{default:p(()=>[W,this.cart.carts!==void 0&&this.cart.carts.length>0?(n(),a("p",{key:0,class:m([{"animate__animated animate__pulse animate__infinite":this.cart.carts.length>0},"absolute right-0 top-2 min-w-[22px] h-[22px] py-0.5 px-1 scale-90 rounded-full bg-secondary-secondary-100 text-primary-primary-100 en-caption-02 text-center"])},v(this.cart.carts.length),3)):S("",!0)]),_:1}),t("div",{class:m(["flex flex-col justify-between w-[48px] h-[48px] py-4 px-[14px] md:hidden group",{active:e.toggle}]),onClick:o[0]||(o[0]=(...s)=>e.menuToggle&&e.menuToggle(...s))},Q,2)])])])])])}const Y=_(A,[["render",X]]),Z={computed:{...c(g,["navList"])}},ee={class:"bg-primary-primary-100"},te={class:"container"},oe={class:"flex flex-col md:flex-row md:items-center md:justify-between py-20 md:py-[54px]"},se=t("p",{class:"pb-[26px] md:pb-0 whitespace-nowrap en-body md:en-title"}," JAPAN TRIP ",-1),ne={class:""},ae={class:"flex items-center md:space-x-6 lg:space-x-[86px]"},re=t("div",{class:"bg-netural-netural-500"},[t("div",{class:"container"},[t("p",{class:"py-3 md:py-6 md:px-3 ch-caption-2 md:ch-body text-center text-netural-netural-100"}," 本網站僅供個人作品使用，不提供商業用途 ")])],-1);function le(e,o,f,h,u,d){const r=i("router-link");return n(),a("footer",ee,[t("div",te,[t("div",oe,[se,t("nav",ne,[t("ul",ae,[(n(!0),a(b,null,k(e.navList,s=>(n(),a("li",{key:s.path},[l(r,{class:"block py-[12px] px-1 md:p-3 font-bold ch-body text-netural-netural-400 hover:text-secondary-secondary-200",to:s.path},{default:p(()=>[L(v(s.title),1)]),_:2},1032,["to"])]))),128))])])])]),re])}const ie=_(Z,[["render",le]]),ce={computed:{...c(g,["navList"]),...D(y,["toggle"])},mounted(){this.$router.afterEach(()=>{this.toggle=!1})}},de={class:"flex flex-col h-full justify-center items-center py-4"},ue={class:"overflow-y-auto flex flex-col items-center w-full space-y-2 px-4 sm:px-[88px]"};function pe(e,o,f,h,u,d){const r=i("router-link");return n(),a("div",{class:m(["fixed inset-x-0 bottom-0 z-30 md:hidden flex flex-col h-[calc(100%-72px)] bg-netural-netural-400 transition-all",e.toggle?"translate-x-0":"-translate-x-full"])},[t("nav",de,[t("ul",ue,[(n(!0),a(b,null,k(e.navList,s=>(n(),a("li",{class:"w-full border-b border-netural-netural-300 text-center",key:s.path},[l(r,{class:"block py-8 font-normal ch-caption-1 text-netural-netural-300",to:s.path},{default:p(()=>[L(v(s.title),1)]),_:2},1032,["to"])]))),128))])])],2)}const _e=_(ce,[["render",pe]]),fe={props:{active:{type:Boolean,default:!1}},computed:{...c(N,["isProcessing"])}},he={key:0,class:"fixed z-30 inset-0 flex items-center justify-center"},me=t("div",{class:"relative z-30 w-12 h-12 rounded-full animate-animation-rotate before:content-[''] before:absolute before:inset-0 before:rounded-full before:border-4 before:border-netural-netural-400 before:animate-animation-prixClipFix"},null,-1),ge=t("div",{class:"absolute w-full h-full bg-netural-netural-100 opacity-80"},null,-1),ve=[me,ge];function ye(e,o,f,h,u,d){return e.isProcessing?(n(),a("div",he,ve)):S("",!0)}const be=_(fe,[["render",ye]]),xe={data(){return{isShow:!1}},methods:{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll(){const e=document.documentElement,o=e.scrollHeight-e.clientHeight;e.scrollTop/o>.1?this.isShow=!0:this.isShow=!1}},mounted(){document.addEventListener("scroll",this.handleScroll)},unmounted(){document.removeEventListener("scroll",this.handleScroll)}},$e=t("div",{class:"ch-heading-1 material-symbols-outlined"},"expand_less",-1),we=[$e];function Le(e,o,f,h,u,d){return n(),a("div",{class:m(["fixed z-20 right-3 bottom-10 flex justify-center items-center w-12 h-12 rounded-full cursor-pointer transition-all opacity-0 invisible bg-secondary-secondary-100 text-netural-netural-100 shadow-lg",{"!opacity-100 !visible":u.isShow}]),title:"返回最上層",onClick:o[0]||(o[0]=(...r)=>d.scrollToTop&&d.scrollToTop(...r))},we,2)}const ke=_(xe,[["render",Le]]);const Te={data(){return{}},methods:{...w(g,["pushRouteData"])},computed:{...c(y,["toggle"]),...c(N,["isLoading","isProcessing"]),...c(g,["webTitle"]),modifyRouteData(){return this.$router.getRoutes().filter(e=>Object.keys(e.meta).length>0)}},watch:{toggle(){this.toggle?document.body.classList.add("overflow-hidden","md:overflow-auto"):document.body.classList.remove("overflow-hidden","md:overflow-auto")}},components:{RouterView:F,HeaderNav:Y,FooterNav:ie,MobileMenu:_e,ProcessLoader:be,ScrollTop:ke},mounted(){this.$router.afterEach(e=>{this.$nextTick(()=>{document.title=`${e.meta.title} - ${this.webTitle}`})}),this.pushRouteData(this.modifyRouteData)}},Se={class:"layout-content"},Ne=t("div",{class:"relative w-16 h-16 bg-netural-netural-100 rounded-full rotate-45 animate-animation-compass before:content-[''] before:absolute before:left-1/2 before:top-1/2 before:w-[15px] before:h-[30px] before:skew-x-[5deg] before:skew-y-[60deg] before:-translate-x-1/2 before:-translate-y-1/2 before:bg-primary-primary-200 after:content-[''] after:absolute after:left-1/2 after:top-1/2 after:w-[6px] after:h-[6px] after:-translate-x-1/2 after:-translate-y-1/2 after:rounded-full after:bg-netural-netural-100"},null,-1);function Re(e,o,f,h,u,d){const r=i("MobileMenu"),s=i("HeaderNav"),x=i("ProcessLoader"),$=i("RouterView"),R=i("ScrollTop"),P=i("FooterNav"),M=i("VueLoading");return n(),a(b,null,[l(r),l(s),t("div",Se,[l(x,{active:e.isProcessing},null,8,["active"]),l($),l(R)]),l(P),l(M,{active:e.isLoading,"onUpdate:active":o[0]||(o[0]=j=>e.isLoading=j),transition:"none"},{default:p(()=>[Ne]),_:1},8,["active"])],64)}const Ve=_(Te,[["render",Re]]);export{Ve as default};
