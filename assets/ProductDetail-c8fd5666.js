import{a as m}from"./common-d8506827.js";import{P as C}from"./ProductItem-90164da9.js";import{_ as k,a as P,m as S,r as g,o as n,c as l,h as u,w as i,i as v,b as e,t as c,F as d,g as p,e as f,T,f as b,k as U,u as V,n as B}from"./index-ad9fff6e.js";import{p as x}from"./productsStore-fb0793e5.js";import{A as I,N as L,P as N,S as j,a as O}from"./effect-fade-b50eabdd.js";import"./cartStore-c8755473.js";import"./toast-befe74ea.js";const H={data(){return{modules:[I,L,N],controlledSwiper:null,productContent:{},qty:1,tabList:["行程內容","注意事項"],currentTab:"行程內容"}},components:{ProductItem:C,Swiper:j,SwiperSlide:O},methods:{...P(x,["getProductItem","getProducts","addCart"]),async changeProductContent(s){return m().isLoading=!0,await this.getProductItem(s).then(a=>(m().isLoading=!1,a.data.product))},toggle(s){s.active=!s.active},startTransition(s){s.style.height=s.scrollHeight+"px"},endTransition(s){s.style.height=""}},watch:{productId:async function(s){s&&(this.productContent=await this.changeProductContent(s))}},computed:{...S(x,["products"]),filterOtherItem(){return this.products.filter(s=>s.id!==this.$route.params.id)},productId(){return this.$route.params.id}},async mounted(){m().isLoading=!0,this.productContent=await this.changeProductContent(this.$route.params.id),await this.getProducts()}},M={key:0},q=["src","alt"],D=["src","alt"],A={key:1},F=["src","alt"],z={key:2},E=e("img",{class:"flex-shrink-0 w-full h-[400px] object-cover",src:"https://placehold.co/640x480?text=No+Photo",alt:"預設圖"},null,-1),G=[E],J={class:"container"},K={class:"flex flex-col-reverse lg:flex-row justify-between lg:space-x-8 pt-10 pb-16"},Q={class:"lg:w-[66.666%] space-y-6 pb-6 border-b border-netural-netural-500"},R={class:"font-bold ch-heading-1"},W={class:"flex pb-4 [&:not(:last-child)]:mb-4 !mt-3 border-b border-netural-netural-300"},X=e("div",{class:"flex-shrink-0 w-4 h-4 mt-0.5 lg:mt-1 [&:not(:last-child)]:mr-2 bg-netural-netural-300 icon-pin"},null,-1),Y={class:"lg:font-bold ch-caption-2 lg:ch-body text-netural-netural-300"},Z={class:"flex flex-col"},$=["innerHTML"],ee={class:"flex flex-col"},te={class:"flex border-b border-netural-netural-300"},se=["onClick"],oe={class:"flex items-center justify-center py-2 px-4 text-netural-netural-300 font-semibold ch-heading-4 group-[.active]:text-netural-netural-100 group-[.active]:bg-secondary-secondary-100 cursor-pointer"},ne={class:"flex flex-col"},le={key:0,class:"pt-5 pb-4 editor-content"},re=["innerHTML"],ie={key:1,class:"pt-5 pb-4"},ce=e("ol",{class:"space-y-2 pt-3 pl-5 en-caption-02 leading-7.5 font-bold list-decimal"},[e("li",null," 票券有效期限：請確認您所購買的票券有效期限，並於有效期限內使用，逾期無法使用。 "),e("li",null," 入場方式：每個景點的入場方式可能不同，請務必確認入場方式，並依照票券使用方式進入。 "),e("li",null," 使用時段：有些票券有使用時段限制，請確認使用時段，並在指定時段內使用。 "),e("li",null," 套票使用方式：如購買套票，請依照票券上所列明的使用方式及順序使用，並注意各景點的開放時間，以免因時間不足而無法使用。 "),e("li",null," 票券轉讓禁止：票券一經售出，不得轉讓他人使用。如經發現違規使用，將依照法律規定處理。 "),e("li",null," 退換票：票券一經售出，恕不退換，請務必確認購買內容再進行購買。 "),e("li",null," 注意安全：使用票券時，請務必注意人身安全及財物安全，避免遺失或損毀。 "),e("li",null," 其他注意事項：請在使用票券前仔細閱讀票券上所列之注意事項，以確保使用順利。 "),e("li",null,"希望以上注意事項說明能為您提供幫助，祝您旅途愉快！")],-1),ae=[ce],de={class:"flex flex-col lg:w-[33.333%] mb-8 lg:mb-0"},ue={class:"sticky top-[72px] inset-x-0 p-6 space-y-6 bg-netural-netural-200"},pe={class:"space-y-2"},_e={class:"en-title"},he={class:"h6"},me={class:"en-caption-01 line-through"},ge={class:"space-y-4"},fe={class:"form-select"},be=e("option",{selected:"",disabled:""},"商品數量",-1),ye=["value"],ve={class:"w-full"},xe={class:"flex flex-col space-y-6"},we=e("h2",{class:"ch-heading-2 font-bold text-netural-netural-400"}," 其他行程推薦 ",-1);function Ce(s,a,ke,Pe,t,y){const _=g("SwiperSlide"),h=g("Swiper"),w=g("ProductItem");return n(),l(d,null,[t.productContent.hasOwnProperty("imagesUrl")?(n(),l("div",M,[t.productContent.imagesUrl&&t.productContent.imagesUrl.length>=3?(n(),u(h,{key:0,pagination:{clickable:!0},loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},modules:t.modules,breakpoints:{320:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:3,spaceBetween:24}},class:"flex product-slider"},{default:i(()=>[(n(!0),l(d,null,p(t.productContent.imagesUrl,(o,r)=>(n(),u(_,{key:o.id},{default:i(()=>[e("img",{class:"flex-shrink-0 w-full h-[400px] object-cover",src:o.imageUrl,alt:`${t.productContent.title}${r+1}`},null,8,q)]),_:2},1024))),128))]),_:1},8,["modules"])):t.productContent.imagesUrl.length<3||t.productContent.imageUrl?(n(),u(h,{key:1,slidesPerView:1,spaceBetween:0,pagination:{clickable:!0},loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},modules:t.modules,class:"flex common-slider"},{default:i(()=>[(n(!0),l(d,null,p(t.productContent.imagesUrl,(o,r)=>(n(),u(_,{key:o.id},{default:i(()=>[e("img",{class:"flex-shrink-0 w-full h-[400px] object-cover",src:o.imageUrl,alt:`${t.productContent.title}${r+1}`},null,8,D)]),_:2},1024))),128))]),_:1},8,["modules"])):v("",!0)])):t.productContent.hasOwnProperty("imageUrl")?(n(),l("div",A,[e("img",{class:"flex-shrink-0 w-full h-[400px] object-cover",src:t.productContent.imageUrl,alt:t.productContent.title},null,8,F)])):(n(),l("div",z,G)),e("div",J,[e("div",K,[e("div",Q,[e("h1",R,c(t.productContent.title),1),e("div",W,[X,e("div",Y,c(t.productContent.category),1)]),e("div",Z,[e("div",{class:"editor-content",innerHTML:t.productContent.description},null,8,$)]),e("div",ee,[e("ul",te,[(n(!0),l(d,null,p(t.tabList,o=>(n(),l("li",{class:B(["group",{active:t.currentTab===o}]),key:o,onClick:r=>t.currentTab=o},[e("div",oe,c(o),1)],10,se))),128))]),e("div",ne,[f(T,{name:"fade",mode:"out-in"},{default:i(()=>[t.currentTab==="行程內容"?(n(),l("div",le,[e("div",{innerHTML:t.productContent.content},null,8,re)])):t.currentTab==="注意事項"?(n(),l("div",ie,ae)):v("",!0)]),_:1})])])]),e("div",de,[e("div",ue,[e("div",pe,[e("div",null,[e("span",_e,c(s.$filters.currency(t.productContent.price)),1),b(" 元 ")]),e("div",he,[b(" 原價 "),e("span",me,c(s.$filters.currency(t.productContent.origin_price)),1),b(" 元 ")])]),e("div",ge,[e("div",fe,[U(e("select",{name:"",id:"","onUpdate:modelValue":a[0]||(a[0]=o=>t.qty=o)},[be,(n(),l(d,null,p(10,(o,r)=>e("option",{key:r,value:r+1},c(r+1)+" "+c(t.productContent.unit),9,ye)),64))],512),[[V,t.qty,void 0,{number:!0}]])])]),e("div",ve,[e("button",{type:"button",onClick:a[1]||(a[1]=o=>s.addCart(t.productContent,t.qty)),class:"btn-base w-full text-netural-netural-100 bg-secondary-secondary-200"}," 加入購物車 ")])])])]),e("div",xe,[we,e("div",null,[f(h,{pagination:{clickable:!0},modules:t.modules,breakpoints:{320:{slidesPerView:1,width:260,spaceBetween:24},640:{slidesPerView:2,width:null,spaceBetween:24},768:{slidesPerView:3,spaceBetween:24},1296:{slidesPerView:4,spaceBetween:24}},class:"flex common-slider"},{default:i(()=>[(n(!0),l(d,null,p(y.filterOtherItem,(o,r)=>(n(),u(_,{key:o.id},{default:i(()=>[f(w,{"product-data":o,"item-index":r,"image-class":"!h-[200px]","text-content-class":"!ml-0 !mt-0",onChangeContent:y.changeProductContent},null,8,["product-data","item-index","onChangeContent"])]),_:2},1024))),128))]),_:1},8,["modules"])])])])],64)}const Ne=k(H,[["render",Ce]]);export{Ne as default};
